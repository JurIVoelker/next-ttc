(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[254],{6941:function(e,t,r){"use strict";var s=r(5893);r(7294);var i=r(8532),a=r(4692),n=r(652),l=r(364),c=r(2194),o=r.n(c);t.Z=e=>{let{errorMessage:t,value:r,setValue:c,label:d,type:h,className:u,...x}=e,m=u?u+" "+o().inputWrapper:o().inputWrapper;return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(i.n,{className:m,isInvalid:!!t,onChange:c,...x,children:[(0,s.jsx)(a._,{className:o().label,children:d}),(0,s.jsx)(n.I,{className:o().input,type:h,value:r}),(0,s.jsx)(l.c,{className:o().error,children:t})]})})}},5254:function(e,t,r){"use strict";r.d(t,{Z:function(){return Y}});var s=r(5893),i=r(1664),a=r.n(i),n=r(3624),l=r.n(n),c=r(8794),o=r(2670),d=r(2960);r(7294);var h=r(7248),u=r(4692),x=r(1187),m=r(4953),_=r(2927),g=r(4693),j=r(6267),p=r(6758),b=r(9615),v=r.n(b),f=r(9603),N=r(9417),A=e=>{let{className:t,date:r,setDate:i}=e;return(0,s.jsxs)(h.Mt,{className:t,value:r||null,onChange:i,children:[(0,s.jsx)(u._,{className:v().label,children:"Anzeigedatum"}),(0,s.jsxs)(x.Z,{className:v().inputGroup,children:[(0,s.jsx)(m.Wr,{className:v().dateInput,children:e=>(0,s.jsx)(m.kE,{segment:e,className:v().dateSegment})}),(0,s.jsx)(o.z,{children:(0,s.jsx)(f.G,{icon:N.fT7,height:20})})]}),(0,s.jsx)(_.J,{className:v().popover,children:(0,s.jsx)(g.Vq,{children:(0,s.jsxs)(j.f,{children:[(0,s.jsxs)("header",{className:v().headerSection,children:[(0,s.jsx)(o.z,{slot:"previous",children:"◀"}),(0,s.jsx)(p.X,{}),(0,s.jsx)(o.z,{slot:"next",children:"▶"})]}),(0,s.jsx)(j.TK,{className:v().calendarGrid,children:e=>(0,s.jsx)(j.VX,{date:e})})]})})})]})},T=r(6941),k=r(1284),B=r(6363),z=r(485),P=r.n(z),w=r(4565),I=r(3621),G=e=>{let{text:t,setText:r}=e,i=[I.Z.configure({types:[w.Z.name]}),B.Z.configure({bulletList:{keepMarks:!0,keepAttributes:!1},orderedList:{keepMarks:!0,keepAttributes:!1}})],a=(0,k.jE)({extensions:i,content:t,onUpdate:e=>{r(e.editor.contentComponent.editorContentRef.current.querySelector(".ProseMirror").innerHTML)}});return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:P().container,children:[(0,s.jsx)(C,{editor:a}),(0,s.jsx)(k.kg,{editor:a,className:P().content,content:t})]})})};let C=e=>{let{editor:t}=e;return t?(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:P().menuBar,children:[(0,s.jsx)(o.z,{onPress:()=>t.chain().focus().toggleBold().run(),isDisabled:!t.can().chain().focus().toggleBold().run(),className:t.isActive("bold")?P().isActive:"",children:(0,s.jsx)(f.G,{icon:N.c_t})}),(0,s.jsx)(o.z,{onPress:()=>t.chain().focus().toggleItalic().run(),isDisabled:!t.can().chain().focus().toggleItalic().run(),className:t.isActive("italic")?P().isActive:"",children:(0,s.jsx)(f.G,{icon:N.cJz})}),(0,s.jsx)(o.z,{onPress:()=>t.chain().focus().toggleStrike().run(),isDisabled:!t.can().chain().focus().toggleStrike().run(),className:t.isActive("strike")?P().isActive:"",children:(0,s.jsx)(f.G,{icon:N.b$N})}),(0,s.jsx)(o.z,{onPress:()=>t.chain().focus().unsetAllMarks().run(),children:(0,s.jsx)(f.G,{icon:N.Hkv})}),(0,s.jsx)(o.z,{onPress:()=>t.chain().focus().setParagraph().run(),className:t.isActive("paragraph")?P().isActive:"",children:(0,s.jsx)(f.G,{icon:N.CK2})}),(0,s.jsx)(o.z,{onPress:()=>t.chain().focus().toggleHeading({level:3}).run(),className:t.isActive("heading",{level:3})?P().isActive:"",children:(0,s.jsx)(f.G,{icon:N.gHg,style:{height:"15px"}})}),(0,s.jsx)(o.z,{onPress:()=>t.chain().focus().toggleHeading({level:2}).run(),className:t.isActive("heading",{level:2})?P().isActive:"",children:(0,s.jsx)(f.G,{icon:N.gHg})}),(0,s.jsx)(o.z,{onPress:()=>t.chain().focus().toggleBulletList().run(),className:t.isActive("bulletList")?P().isActive:"",children:(0,s.jsx)(f.G,{icon:N.Zrf})}),(0,s.jsx)(o.z,{onPress:()=>t.chain().focus().setHorizontalRule().run(),children:"__"}),(0,s.jsx)(o.z,{onPress:()=>t.chain().focus().undo().run(),isDisabled:!t.can().chain().focus().undo().run(),children:(0,s.jsx)(f.G,{icon:N.paY})}),(0,s.jsx)(o.z,{onPress:()=>t.chain().focus().redo().run(),isDisabled:!t.can().chain().focus().redo().run(),children:(0,s.jsx)(f.G,{icon:N.lUd})})]})}):null};var D=r(3154),y=r.n(D);let V=e=>{let{title:t,setTitle:r,text:i,setText:a,date:n,setDate:l}=e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h3",{style:{marginTop:"32px"},children:"Textinhalte eingeben"}),(0,s.jsxs)("div",{className:y().textInput,children:[(0,s.jsx)(T.Z,{value:t,setValue:r,label:"Titel",className:y().textField}),(0,s.jsx)(A,{setDate:l,date:n,className:y().datePicker})]}),(0,s.jsx)(G,{text:i,setText:a})]})};var F=r(7055),L=r.n(F),S=r(4750),R=r(9898),M=r(3859),W=r.n(M);function Z(e){let{files:t,setFiles:r,...i}=e,a=e=>{let t=[],s=[];e.forEach(e=>{(null==e?void 0:e.kind)?t.push(e.getFile()):s.push(e)}),Promise.all(t).then(e=>{r(t=>[...t,...e,...s])})};return(0,s.jsx)(S.r,{onDrop:e=>{a(e.items.filter(e=>"file"===e.kind))},className:"".concat(W().dropzone," ").concat(i.className?i.className:""),children:(0,s.jsxs)(R.I,{allowsMultiple:!0,onSelect:e=>{a(Array.from(e))},children:[(0,s.jsx)(o.z,{children:"Dateien ausw\xe4hlen"}),(0,s.jsx)("p",{style:{textAlign:"center",maxWidth:"90%"},children:"oder in dem Bereich ablegen"})]})})}var O=r(5675),H=r.n(O),U=r(7740);let q=e=>{let{images:t,setImages:r,preview:i,setPreview:a}=e,n=e=>{a(e)};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h3",{style:{marginTop:"32px"},children:"Bilder und Vorschaubild ausw\xe4hlen"}),(0,s.jsxs)("div",{className:"".concat(L().imageSelectWrapper," ").concat(0===t.length?L().noImages:""),children:[t.length>0&&(0,s.jsx)("div",{className:L().imageGrid,children:t.map(e=>(0,s.jsxs)(o.z,{className:"".concat(L().imageContainer," ").concat(i&&e.name===i.name?L().selectedImage:""),onPress:()=>{n(e)},children:[e.attributes&&(0,s.jsx)(U.p,{img:e.attributes,alt:"Hinzugef\xfcgte Bilder"}),!e.attributes&&(0,s.jsx)(H(),{src:URL.createObjectURL(e),alt:"Hinzugef\xfcgte Bilder",width:100,height:100}),(0,s.jsx)("p",{children:e.name||e.attributes.name})]},e.name||e.attributes.url))}),(0,s.jsxs)("div",{className:L().sidePanel,children:[(0,s.jsx)(Z,{files:t,setFiles:r,className:L().imageDropzone}),i&&(0,s.jsxs)("div",{className:L().previewWrapper,children:[(0,s.jsx)("p",{children:"Artikel-Vorschau-Bild:"}),(0,s.jsx)(H(),{src:URL.createObjectURL(i),width:100,height:100,alt:"Vorschaubild"})]})]})]})]})};var J=r(4703),K=r(7648),X=r.n(K);let E=e=>{let{preview:t,date:r,title:i,text:a,isValid:n,setPreviewText:l,errorMessage:c,isSending:o}=e,d="",h=!1;for(let e=0;e<a.length;e++)"<"===a[e]?h=!0:">"===a[e]?(h=!1,d+=" "):h||(d+=a[e]);let u=d.substring(0,100)+"...";l(u);let x=e=>1===String(e).length?"0"+e:e,m="".concat(r.year,"-").concat(x(r.month),"-").concat(x(r.day));return(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:X().cardContainer,children:n&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h3",{style:{marginBottom:"16px"},children:"Vorschau"}),(0,s.jsx)(J.Z,{description:u,imageUrl:t.data?void 0:URL.createObjectURL(t),title:i,date:m,image:t.data?t.data:void 0})]})}),!n&&(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{children:"Artikel nicht g\xfcltig"}),(0,s.jsxs)("ul",{className:X().errorList,children:[!i&&(0,s.jsx)("li",{children:"Bitte gebe einen Titel ein (Text)"}),!r&&(0,s.jsx)("li",{children:"Bitte gebe ein Datum ein (Text)"}),"..."===u&&(0,s.jsx)("li",{children:"Bitte gebe einen Artikeltext ein (Text)"}),!t&&(0,s.jsx)("li",{children:"Bitte lade mindestens ein Bild hoch und w\xe4hle ein Vorschaubild aus (Bilder)"})]})]}),c&&!o&&(0,s.jsx)("div",{className:X().error,children:c})]})};var Y=e=>{let{isSending:t,handleConfirm:r,isSuccess:i,tab:n,setTab:h,text:u,setText:x,title:m,setTitle:_,date:g,setDate:j,previewImage:p,setPreviewImage:b,images:v,setImages:f,isValid:N,setPreviewText:A,errorMessage:T,uploadProgress:k,tabs:B=["Text","Bilder","Vorschau"]}=e;return(0,s.jsxs)(s.Fragment,{children:[i&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h3",{style:{marginTop:"32px"},children:"Erfolg"}),(0,s.jsxs)("p",{style:{marginTop:"16px"},children:["Dein Artikel wurde erfolgreich"," ","Vorschau"===B[1]?"bearbeitet":"hochgeladen"]}),(0,s.jsx)(a(),{href:"/aktuelles",className:l().button,children:"Zur\xfcck zur \xdcbersicht"})]}),!i&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(c.mQ,{selectedKey:n,onSelectionChange:e=>{h(e)},className:l().tabs,children:[(0,s.jsx)(c.td,{"aria-label":"Inhalt tabs",className:l().tabList,children:B.map(e=>(0,s.jsx)(c.OK,{id:e,className:l().tabSection,children:e},e))}),(0,s.jsx)(c.x4,{id:"Text",children:(0,s.jsx)(V,{text:u,setText:x,title:m,setTitle:_,date:g,setDate:j})}),"Vorschau"!==B[1]&&(0,s.jsx)(c.x4,{id:"Bilder",children:(0,s.jsx)(q,{preview:p,setPreview:b,images:v,setImages:f})}),(0,s.jsx)(c.x4,{id:"Vorschau",children:(0,s.jsx)(E,{preview:p,title:m,text:u,isValid:N,date:g,setPreviewText:A,errorMessage:T,isSending:t})})]}),(0,s.jsxs)("div",{className:l().buttonGroup,children:["Text"!==n||t?(0,s.jsx)(o.z,{className:l().abortButton,onPress:()=>{"Vorschau"===n?h(["Vorschau"===B[1]?B[0]:"Bilder"]):"Bilder"===n&&h("Text")},children:"Zur\xfcck"}):(0,s.jsx)(a(),{href:"/aktuelles",className:l().abortButton,children:"Abbrechen"}),(0,s.jsx)(o.z,{className:l().continueButton,onPress:()=>{"Text"===n?h(B[1]):"Bilder"===n?h("Vorschau"):"Vorschau"===n&&r()},isDisabled:"Vorschau"===n&&!N&&!t,children:t?(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(d.Z,{color:"white"})}):(0,s.jsx)(s.Fragment,{children:"Vorschau"===n?"Vorschau"===B[1]?"Artikel bearbeiten":"Artikel erstellen":"Weiter"})})]}),t&&"Vorschau"!==B[1]&&(0,s.jsx)("p",{children:"Bilder hochgeladen: ".concat(k,"/").concat(v.length+1)})]})]})}},4703:function(e,t,r){"use strict";r.d(t,{Z:function(){return v}});var s=r(5893),i=r(1680),a=r.n(i);r(7294);var n=r(4709),l=r(4693),c=r(2670),o=r(9603),d=r(9417),h=r(7997),u=r(5572),x=r.n(u),m=e=>{let{title:t,text:r,onConfirm:i}=e;return(0,s.jsx)(h.ZA,{className:x().modalOverlay,isDismissable:!0,children:(0,s.jsx)(h.u_,{className:x().modal,children:(0,s.jsx)(l.Vq,{className:x().dialog,children:e=>{let{close:a}=e;return(0,s.jsxs)("form",{children:[(0,s.jsx)("h3",{children:t}),(0,s.jsx)("p",{children:r}),(0,s.jsxs)("div",{className:x().buttonGroup,children:[(0,s.jsx)(c.z,{className:x().abortButton,onPress:()=>{a()},children:"Abbrechen"}),(0,s.jsx)(c.z,{className:x().submitButton,onPress:()=>{a(),i()},children:"Fortfahren"})]})]})}})})})},_=r(6880),g=r(1163),j=r(5675),p=r.n(j),b=r(7740),v=e=>{let{imageUrl:t,title:r,description:i,date:h,isEditable:u,slug:x,id:j,image:v}=e,{push:f}=(0,g.useRouter)();return(0,s.jsxs)("div",{className:a().cardWrapper,children:[u&&(0,s.jsxs)("div",{className:a().adminButtons,children:[(0,s.jsx)(n.r,{href:"/bearbeiten/".concat(x),children:(0,s.jsx)(o.G,{icon:d.IwR,color:"white"})}),(0,s.jsxs)(l.hg,{children:[(0,s.jsx)(c.z,{children:(0,s.jsx)(o.G,{icon:d.$aW,color:"white"})}),(0,s.jsx)(m,{title:"L\xf6schen best\xe4tigen",text:'M\xf6chtest du wirklich den Artikel "'.concat(r,'" l\xf6schen? Dieser Schritt kann nicht r\xfcckg\xe4ngig gemacht werden!'),onConfirm:()=>{(0,_.jX)(j).then(()=>{f("/aktuelles")})}})]})]}),(0,s.jsx)(n.r,{...x?{href:"aktuelles/".concat(x)}:"",children:(0,s.jsxs)("div",{className:a().card,children:[t&&(0,s.jsx)(p(),{src:t,width:300,height:200,alt:"Bildvorschau f\xfcr ".concat(r),className:a().image}),(null==v?void 0:v.attributes)&&(0,s.jsx)(b.p,{img:v,alt:"Hinzugef\xfcgte Bilder",sizes:_.SU}),(0,s.jsxs)("div",{className:a().textContent,children:[(0,s.jsx)("h3",{children:r}),(0,s.jsx)("p",{children:i}),h&&(0,s.jsx)("p",{children:h.split("-").reverse().join(".")})]})]})})]})}},7740:function(e,t,r){"use strict";r.d(t,{p:function(){return c}});var s=r(5893),i=r(5675),a=r.n(i),n=r(6880),l=r(7294);let c=e=>{let{img:t,alt:r="bild",sizes:i=n.Gd,...c}=e,[o,d]=(0,l.useState)(!0);if(!(null==t?void 0:t.attributes))throw Error("Image does not have attributes. Maybe you forgot to pass the image.data as prop");let{width:h,height:u}=(null==t?void 0:t.attributes)||{};return(0,s.jsx)("span",{style:{backgroundColor:o?"rgb(215, 215, 215)":"transparent",borderRadius:"0.325rem",height:"auto",display:"block"},children:(0,s.jsx)(a(),{src:(0,n.mx)(t),alt:r,width:h,height:u,sizes:i,onLoadingComplete:()=>{d(!1)},style:{opacity:o?0:1,transition:"opacity 250ms"},...c})})}},9615:function(e){e.exports={inputGroup:"AriaDatePicker_inputGroup__CRi37",dateInput:"AriaDatePicker_dateInput__Ler_y",popover:"AriaDatePicker_popover__So2_c",headerSection:"AriaDatePicker_headerSection__iRRdi",calendarGrid:"AriaDatePicker_calendarGrid__7qdla",label:"AriaDatePicker_label__jXKXZ"}},3859:function(e){e.exports={dropzone:"AriaImageDropzone_dropzone__zSJJf"}},5572:function(e){e.exports={modalOverlay:"AriaModal_modalOverlay__59Lpl","modal-fade":"AriaModal_modal-fade__budk6",modal:"AriaModal_modal__HgPML",dialog:"AriaModal_dialog__cvnp5","modal-zoom":"AriaModal_modal-zoom__DPjvX",buttonGroup:"AriaModal_buttonGroup__tZeAz",abortButton:"AriaModal_abortButton__DF2_R",submitButton:"AriaModal_submitButton__pc0AW"}},2194:function(e){e.exports={inputWrapper:"AriaTextField_inputWrapper__BWP3Y",label:"AriaTextField_label__FFTCz",input:"AriaTextField_input__fWBBL",error:"AriaTextField_error__jwJpV"}},7055:function(e){e.exports={imageSelectWrapper:"ImageTab_imageSelectWrapper__aOtQV",noImages:"ImageTab_noImages__YpilC",imageGrid:"ImageTab_imageGrid__kVxSA",imageContainer:"ImageTab_imageContainer__fR5oD",selectedImage:"ImageTab_selectedImage__Tb1h6",sidePanel:"ImageTab_sidePanel__HznJy",imageDropzone:"ImageTab_imageDropzone__9wb6Z",previewWrapper:"ImageTab_previewWrapper__BZqDs"}},7648:function(e){e.exports={cardContainer:"PreviewTab_cardContainer__1NTQg",errorList:"PreviewTab_errorList__8NOuY",error:"PreviewTab_error__7Kzq0"}},3624:function(e){e.exports={tabs:"TabOverview_tabs__VGDHg",tabList:"TabOverview_tabList__BBewa",tabSection:"TabOverview_tabSection__Y_JIK",buttonGroup:"TabOverview_buttonGroup__udglO",continueButton:"TabOverview_continueButton__x7aPk",abortButton:"TabOverview_abortButton__ng7ld",button:"TabOverview_button__OgNgo"}},3154:function(e){e.exports={textInput:"TextTab_textInput__2vtos",datePicker:"TextTab_datePicker__YX5sM",textField:"TextTab_textField__CPptq"}},1680:function(e){e.exports={cardWrapper:"Card_cardWrapper__4p6mR",card:"Card_card__Jh6sd",textContent:"Card_textContent__GelZl",adminButtons:"Card_adminButtons__o8ciL"}},485:function(e){e.exports={container:"RichTextArea_container__5qQqK",content:"RichTextArea_content__XkIcU",menuBar:"RichTextArea_menuBar__FjJ1n",isActive:"RichTextArea_isActive___4zHC"}}}]);